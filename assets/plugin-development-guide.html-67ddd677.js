import{_ as n,V as s,W as a,a0 as e}from"./framework-c954d91f.js";const i={},t=e(`<h1 id="obsidian-插件开发入门指南" tabindex="-1"><a class="header-anchor" href="#obsidian-插件开发入门指南" aria-hidden="true">#</a> Obsidian 插件开发入门指南</h1><h2 id="环境准备" tabindex="-1"><a class="header-anchor" href="#环境准备" aria-hidden="true">#</a> 环境准备</h2><p>开发 Obsidian 插件需要以下环境：</p><ul><li>Node.js (推荐 v16+)</li><li>TypeScript</li><li>Obsidian 应用</li></ul><h2 id="创建插件项目" tabindex="-1"><a class="header-anchor" href="#创建插件项目" aria-hidden="true">#</a> 创建插件项目</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 克隆官方模板</span>
<span class="token function">git</span> clone https://github.com/obsidianmd/obsidian-sample-plugin.git my-plugin
<span class="token builtin class-name">cd</span> my-plugin

<span class="token comment"># 安装依赖</span>
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="基本结构" tabindex="-1"><a class="header-anchor" href="#基本结构" aria-hidden="true">#</a> 基本结构</h2><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Plugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;obsidian&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyPlugin</span> <span class="token keyword">extends</span> <span class="token class-name">Plugin</span> <span class="token punctuation">{</span>
  <span class="token keyword">async</span> <span class="token function">onload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;插件加载&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 添加命令</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addCommand</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token string">&#39;my-command&#39;</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">&#39;我的命令&#39;</span><span class="token punctuation">,</span>
      <span class="token function-variable function">callback</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;命令执行&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">onunload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;插件卸载&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开发调试" tabindex="-1"><a class="header-anchor" href="#开发调试" aria-hidden="true">#</a> 开发调试</h2><ol><li>在 Obsidian 中打开开发者工具（Ctrl/Cmd + Shift + I）</li><li>修改代码后运行 <code>npm run dev</code></li><li>重新加载插件查看效果</li></ol><h2 id="常用-api" tabindex="-1"><a class="header-anchor" href="#常用-api" aria-hidden="true">#</a> 常用 API</h2><ul><li><code>this.app</code> - 访问 Obsidian 应用实例</li><li><code>this.addCommand()</code> - 添加命令</li><li><code>this.registerEvent()</code> - 注册事件监听</li><li><code>this.addRibbonIcon()</code> - 添加侧边栏图标</li></ul><p>持续更新中...</p>`,13),p=[t];function c(l,o){return s(),a("div",null,p)}const u=n(i,[["render",c],["__file","plugin-development-guide.html.vue"]]);export{u as default};
