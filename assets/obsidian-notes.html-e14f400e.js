import{_ as o,V as t,W as r,X as e,Y as n,$ as s,a0 as a,F as d}from"./framework-c954d91f.js";const l={},c=a('<h1 id="obsidian-notes-同步插件" tabindex="-1"><a class="header-anchor" href="#obsidian-notes-同步插件" aria-hidden="true">#</a> Obsidian Notes 同步插件</h1><p>多源笔记同步到 Obsidian：<strong>macOS 备忘录</strong>、<strong>Joplin</strong>、<strong>思源笔记</strong>、<strong>Notion</strong> 等，仅手动刷新。本文在备忘录能力之外，补充 <strong>Notion 支持</strong> 的配置与用法。</p><h2 id="下载地址" tabindex="-1"><a class="header-anchor" href="#下载地址" aria-hidden="true">#</a> 下载地址</h2>',3),h={href:"https://github.com/fengshuzi/obsidian-notes",target:"_blank",rel:"noopener noreferrer"},u=a(`<h2 id="功能特性" tabindex="-1"><a class="header-anchor" href="#功能特性" aria-hidden="true">#</a> 功能特性</h2><ul><li>🔄 从 macOS 备忘录同步笔记到 Obsidian</li><li>📁 支持指定备忘录文件夹</li><li>⏰ 支持自动定时同步</li><li>🎯 可自定义 Obsidian 目标文件夹</li><li>📝 保留笔记的创建和修改时间</li><li>🖼️ <strong>自动提取并保存图片</strong>：将 base64 图片转换为本地文件</li><li>📷 支持多种图片格式（PNG、JPEG、GIF 等）</li><li>🔗 使用相对路径引用图片，便于管理</li><li><strong>Notion 同步</strong>：Token 与多页面配置化，支持页面/数据库导出，图片默认保存到 vault 根目录 <code>assets</code> 并可配置</li></ul><h2 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法" aria-hidden="true">#</a> 使用方法</h2><h3 id="安装" tabindex="-1"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h3><ol><li>将插件文件复制到 Obsidian vault 的 <code>.obsidian/plugins/obsidian-notes/</code> 目录</li><li>在 Obsidian 设置中启用插件</li></ol><h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h3><p>在插件设置中可以配置：</p><ul><li><strong>备忘录文件夹名称</strong>：指定要同步的 macOS 备忘录文件夹（默认：Notes）</li><li><strong>Obsidian 目标文件夹</strong>：笔记将同步到此文件夹（默认：备忘录）</li><li><strong>启用自动同步</strong>：是否定期自动同步</li><li><strong>同步间隔</strong>：自动同步的时间间隔（分钟）</li></ul><h3 id="命令" tabindex="-1"><a class="header-anchor" href="#命令" aria-hidden="true">#</a> 命令</h3><ul><li><strong>同步备忘录</strong>：手动触发同步</li><li><strong>立即同步备忘录（一次）</strong>：执行一次性同步</li></ul><h3 id="图片处理" tabindex="-1"><a class="header-anchor" href="#图片处理" aria-hidden="true">#</a> 图片处理</h3><p>插件会自动处理备忘录中的图片：</p><ol><li><strong>自动提取</strong>：从 HTML 中提取 base64 编码的图片</li><li><strong>保存到本地</strong>：图片保存在 <code>备忘录/attachments/</code> 文件夹</li><li><strong>自动命名</strong>：格式为 <code>笔记标题-001.png</code>、<code>笔记标题-002.jpg</code> 等</li><li><strong>Markdown 引用</strong>：使用相对路径 <code>![](attachments/图片名.png)</code></li></ol><p><strong>文件结构示例：</strong></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>备忘录/
├── attachments/
│   ├── 我的笔记-001.png
│   ├── 我的笔记-002.jpg
│   └── 工作计划-001.png
├── 我的笔记.md
└── 工作计划.md
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="notion-同步" tabindex="-1"><a class="header-anchor" href="#notion-同步" aria-hidden="true">#</a> Notion 同步</h2><p>插件内置 Notion API 同步：在设置中配置 <strong>Notion API Token</strong> 和 <strong>要同步的页面列表</strong>（支持多个页面），即可将 Notion 页面/数据库导出为 Markdown，图片下载到本地并修正链接。</p><h3 id="前置条件" tabindex="-1"><a class="header-anchor" href="#前置条件" aria-hidden="true">#</a> 前置条件</h3>`,19),g={href:"https://www.notion.so/my-integrations",target:"_blank",rel:"noopener noreferrer"},b=e("strong",null,"Token",-1),p=e("code",null,"ntn_xxx",-1),v=e("code",null,"secret_xxx",-1),m=e("li",null,[n("在 Notion 中把要同步的"),e("strong",null,"页面"),n("或"),e("strong",null,"数据库"),n("「分享」给该 Integration（Share → Invite → 选择你的 Integration）。")],-1),x=a(`<h3 id="配置项" tabindex="-1"><a class="header-anchor" href="#配置项" aria-hidden="true">#</a> 配置项</h3><p>在插件设置 → <strong>Notion 同步</strong> 中：</p><ul><li><strong>Notion API Token</strong>：粘贴 Integration 密钥。</li><li><strong>要同步的页面（多行）</strong>：每行一个 Notion 页面 URL 或 page_id；可选在同一行用 <strong>Tab</strong> 分隔填写「输出文件夹」（如 <code>notion</code> 或 <code>Bike/notion</code>）。</li><li><strong>Notion 默认输出文件夹</strong>：未在行内指定时，导出到此 vault 子文件夹（默认 <code>notion</code>）。</li><li><strong>Notion 图片保存目录</strong>：图片保存位置，相对 vault 根目录；默认 <code>assets</code> 即根目录下 <code>assets</code> 文件夹，可改为如 <code>notion/assets</code>。</li><li><strong>刷新时同步 Notion</strong>：勾选后，侧边栏「刷新」或命令「刷新（按配置更新）」会执行 Notion 同步。</li></ul><h3 id="使用方式" tabindex="-1"><a class="header-anchor" href="#使用方式" aria-hidden="true">#</a> 使用方式</h3><ul><li><strong>命令</strong>：「从 Notion 导入」—— 按当前配置拉取并写入 Markdown。</li><li><strong>刷新</strong>：若勾选「刷新时同步 Notion」，点击侧边栏刷新图标会连同 Notion 一起同步。</li></ul><h3 id="行为说明" tabindex="-1"><a class="header-anchor" href="#行为说明" aria-hidden="true">#</a> 行为说明</h3><ul><li><strong>多页面</strong>：配置里可填多行，每行一个页面或数据库；每行可带 Tab + 输出文件夹，实现不同页面导出到不同目录。</li><li><strong>页面与数据库</strong>：若为页面，会导出该页及其子页面（子页在「父页标题」子文件夹下）；若为数据库，会逐条导出每条为一张 .md。</li><li><strong>图片</strong>：按「笔记名-001.ext」命名，保存到配置的图片目录（默认 vault 根 <code>assets</code>），正文中用相对路径引用（如 <code>../assets/笔记名-001.png</code>），与 Joplin/思源一致。</li><li><strong>父页不渲染子页内容</strong>：父页的 Markdown 只含自身块，子页面单独为独立 .md 文件。</li></ul><h3 id="示例配置" tabindex="-1"><a class="header-anchor" href="#示例配置" aria-hidden="true">#</a> 示例配置</h3><ul><li>只同步一个列表、导出到默认目录：在「要同步的页面」填一行 URL 即可。</li><li>多页且分目录：<div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>https://notion.so/页面A-xxx
https://notion.so/页面B-yyy	Other/notion
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="开发" tabindex="-1"><a class="header-anchor" href="#开发" aria-hidden="true">#</a> 开发</h2><h3 id="构建" tabindex="-1"><a class="header-anchor" href="#构建" aria-hidden="true">#</a> 构建</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run build
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="部署到本地-vault" tabindex="-1"><a class="header-anchor" href="#部署到本地-vault" aria-hidden="true">#</a> 部署到本地 vault</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> run deploy
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="发布新版本" tabindex="-1"><a class="header-anchor" href="#发布新版本" aria-hidden="true">#</a> 发布新版本</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> run release
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="系统要求" tabindex="-1"><a class="header-anchor" href="#系统要求" aria-hidden="true">#</a> 系统要求</h2><ul><li>macOS 系统</li><li>Obsidian 1.2.8 或更高版本</li></ul><h3 id="可选-安装-pandoc-优化表格同步" tabindex="-1"><a class="header-anchor" href="#可选-安装-pandoc-优化表格同步" aria-hidden="true">#</a> 可选：安装 pandoc 优化表格同步</h3>`,20),f={href:"https://pandoc.org/",target:"_blank",rel:"noopener noreferrer"},_=a(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>brew <span class="token function">install</span> pandoc
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>安装后插件会自动检测并使用 pandoc 转换表格，将 macOS 备忘录的 HTML 表格完美转换为 Markdown 表格格式。</p><p>如果未安装 pandoc，插件会使用内置的正则方案转换表格（效果较基础）。</p><h2 id="许可证" tabindex="-1"><a class="header-anchor" href="#许可证" aria-hidden="true">#</a> 许可证</h2><p>MIT</p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h2><ul><li><strong>macOS 备忘录</strong>：仅支持 macOS，需授予 Obsidian 访问备忘录的权限；同步时会覆盖已存在的同名文件。</li><li><strong>Notion</strong>：不依赖 macOS，任意平台均可使用；需网络访问 Notion API，Token 仅保存在本地设置中，请勿泄露。</li></ul>`,7);function N(k,O){const i=d("ExternalLinkIcon");return t(),r("div",null,[c,e("p",null,[e("a",h,[n("https://github.com/fengshuzi/obsidian-notes"),s(i)])]),u,e("ol",null,[e("li",null,[n("在 "),e("a",g,[n("Notion Integrations"),s(i)]),n(" 创建 Integration，复制 "),b,n("（形如 "),p,n(" 或 "),v,n("）。")]),m]),x,e("p",null,[n("建议安装 "),e("a",f,[n("pandoc"),s(i)]),n(" 以获得更好的表格转换效果：")]),_])}const T=o(l,[["render",N],["__file","obsidian-notes.html.vue"]]);export{T as default};
