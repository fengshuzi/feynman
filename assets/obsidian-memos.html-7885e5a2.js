import{_ as s,V as o,W as t,X as e,Y as a,$ as i,a0 as n,F as r}from"./framework-c954d91f.js";const c="/assets/memos-input-1e04fae3.png",l="/assets/memos-tag-filter-477f84f2.png",u="/assets/memos-quick-filter-a64b6985.png",h="/assets/memos-settings-3579b7f8.png",p={},g=n('<h1 id="obsidian-闪念笔记插件-obsidian-memos" tabindex="-1"><a class="header-anchor" href="#obsidian-闪念笔记插件-obsidian-memos" aria-hidden="true">#</a> Obsidian 闪念笔记插件（obsidian-memos）</h1><p>像发微博一样记录灵感，支持时间戳、标签分类和历史浏览，类似 Flomo 的轻量笔记体验。闪念以列表项形式存储在 Journal 文件中，与 Logseq、日记流兼容。</p><h2 id="功能特点" tabindex="-1"><a class="header-anchor" href="#功能特点" aria-hidden="true">#</a> 功能特点</h2><ul><li><strong>快速捕获</strong>：快捷键即可记录灵感，无需中断工作流</li><li><strong>自动时间戳</strong>：每条闪念可自动添加 <code>HH:mm</code> 时间戳</li><li><strong>标签分类</strong>：支持 <code>#tag</code>，可按标签筛选</li><li><strong>快捷标签与聚合</strong>：配置常用标签按钮，支持多标签聚合（如 <code>cy+jf+qt+gw|每日记账</code>，点击后显示带任意一个标签的闪念）</li><li><strong>智能关键词</strong>：内容包含「数字 + 关键词」时自动加标签（如「午餐13」→ <code>#cy</code>），可与记账场景配合</li><li><strong>习惯打卡关键词</strong>：内容包含关键词即加标签（不需数字），适合打卡</li><li><strong>Journal 存储</strong>：闪念写在 <code>journals/YYYY-MM-DD.md</code>，与日记、记账同源</li><li><strong>外部写入自动刷新</strong>：监听 vault 与 metadataCache，Alfred、Python 等外部写入日记后视图会自动刷新</li></ul><h2 id="安装方法" tabindex="-1"><a class="header-anchor" href="#安装方法" aria-hidden="true">#</a> 安装方法</h2><h3 id="从-github-release-安装-推荐" tabindex="-1"><a class="header-anchor" href="#从-github-release-安装-推荐" aria-hidden="true">#</a> 从 GitHub Release 安装（推荐）</h3>',6),m={href:"https://github.com/fengshuzi/obsidian-memos/releases",target:"_blank",rel:"noopener noreferrer"},b=e("li",null,[a("下载 "),e("code",null,"main.js"),a("、"),e("code",null,"manifest.json"),a("、"),e("code",null,"styles.css")],-1),f=e("li",null,[a("在库中创建 "),e("code",null,".obsidian/plugins/obsidian-memos/")],-1),v=e("li",null,"将上述文件放入该目录",-1),_=e("li",null,"重启 Obsidian 或重新加载插件，在设置 → 第三方插件中启用「闪念笔记」",-1),x=n(`<h3 id="手动构建" tabindex="-1"><a class="header-anchor" href="#手动构建" aria-hidden="true">#</a> 手动构建</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> obsidian-memos
<span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run build
<span class="token comment"># 将 dist/ 下文件复制到 .obsidian/plugins/obsidian-memos/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="快速开始" tabindex="-1"><a class="header-anchor" href="#快速开始" aria-hidden="true">#</a> 快速开始</h2><h3 id="_1-确认-journal-目录" tabindex="-1"><a class="header-anchor" href="#_1-确认-journal-目录" aria-hidden="true">#</a> 1. 确认 Journal 目录</h3><p>在设置中配置「Journal 文件夹」，默认为 <code>journals</code>。闪念会写入该目录下按日期命名的 md 文件（如 <code>journals/2026-01-30.md</code>）。</p><h3 id="_2-记录闪念" tabindex="-1"><a class="header-anchor" href="#_2-记录闪念" aria-hidden="true">#</a> 2. 记录闪念</h3><ul><li><strong>快捷键</strong>：<code>Cmd/Ctrl + Shift + M</code> 打开闪念输入弹窗</li><li><strong>命令面板</strong>：搜索「闪念笔记: 新建闪念」或「闪念笔记: 打开闪念视图」</li><li>在弹窗内输入内容后： <ul><li><code>Cmd/Ctrl + Enter</code>：发送</li><li><code>Cmd/Ctrl + Shift + Enter</code>：发送并继续输入</li></ul></li></ul><figure><img src="`+c+'" alt="输入" tabindex="0" loading="lazy"><figcaption>输入</figcaption></figure><h3 id="_3-查看与筛选" tabindex="-1"><a class="header-anchor" href="#_3-查看与筛选" aria-hidden="true">#</a> 3. 查看与筛选</h3><ul><li>打开左侧「闪念笔记」视图，按时间倒序浏览</li><li>使用顶部标签下拉或快捷标签按钮筛选（如「每日记账」「四象限」）</li><li>支持搜索框：按内容或标签关键词过滤</li></ul><figure><img src="'+l+'" alt="快速筛选：按关键词与标签" tabindex="0" loading="lazy"><figcaption>快速筛选：按关键词与标签</figcaption></figure><figure><img src="'+u+`" alt="快速筛选：快捷标签与筛选结果" tabindex="0" loading="lazy"><figcaption>快速筛选：快捷标签与筛选结果</figcaption></figure><h2 id="闪念格式" tabindex="-1"><a class="header-anchor" href="#闪念格式" aria-hidden="true">#</a> 闪念格式</h2><p>闪念以「列表项」形式存储在当日 Journal 文件中。</p><h3 id="带时间戳-推荐" tabindex="-1"><a class="header-anchor" href="#带时间戳-推荐" aria-hidden="true">#</a> 带时间戳（推荐）</h3><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code><span class="token list punctuation">-</span> 14:30 这是一条闪念
<span class="token list punctuation">-</span> 14:35 #想法 #灵感 记录一个点子
<span class="token list punctuation">-</span> 15:00 #jf 房租2366.85 闪念笔记 每日记账
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解析规则：<code>- HH:mm</code> 开头的一行会被识别为一条闪念，后面的 <code>#tag</code> 会被提取为标签，其余为内容。</p><h3 id="无时间戳-仅标签行" tabindex="-1"><a class="header-anchor" href="#无时间戳-仅标签行" aria-hidden="true">#</a> 无时间戳（仅标签行）</h3><p>若一行以 <code>- #tag ...</code> 开头，且其中任意一个标签属于「快捷标签」配置中的<strong>任一组关键词</strong>，也会被识别为闪念（用于与记账、习惯等聚合标签配合）：</p><div class="language-markdown line-numbers-mode" data-ext="md"><pre class="language-markdown"><code><span class="token list punctuation">-</span> #jf 房租2366.85 生活缴费
<span class="token list punctuation">-</span> #cy 午餐13 韭黄炒蛋
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>例如配置了 <code>cy+jf+qt+gw|每日记账</code> 时，带 <code>#jf</code>、<code>#cy</code>、<code>#qt</code>、<code>#gw</code> 中任意一个的这类行都会被识别并出现在「每日记账」筛选项下。</p><h2 id="快捷标签与聚合标签" tabindex="-1"><a class="header-anchor" href="#快捷标签与聚合标签" aria-hidden="true">#</a> 快捷标签与聚合标签</h2><p>在设置 → 「快捷标签」中配置，格式为逗号分隔的若干项，每项格式如下：</p><ul><li><strong>单标签</strong>：<code>关键词</code> 或 <code>关键词|显示名</code><br> 例如：<code>工作</code>、<code>p1|重要且紧急</code></li><li><strong>多标签聚合</strong>：<code>关键词1+关键词2+关键词3|显示名</code><br> 点击该按钮时，会筛选出<strong>带有其中任意一个标签</strong>的闪念。</li></ul><p>示例配置：</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>今天也要用心过生活,p1|重要且紧急,cy+jf+qt+gw|每日记账,工作,sp+reading|习惯打卡
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><code>cy+jf+qt+gw|每日记账</code>：点击「每日记账」时，显示带 <code>#cy</code>、<code>#jf</code>、<code>#qt</code>、<code>#gw</code> 任一的闪念（与记账插件关键词一致时，可统一在闪念里记流水，在记账插件里看统计）。</li></ul><h2 id="智能关键词-记账识别" tabindex="-1"><a class="header-anchor" href="#智能关键词-记账识别" aria-hidden="true">#</a> 智能关键词（记账识别）</h2><p>在设置中配置 JSON，格式为：<code>{&quot;标签&quot;: [&quot;关键词1&quot;, &quot;关键词2&quot;]}</code>。<br> 当闪念<strong>内容</strong>中包含「数字 + 任一关键词」时，会自动为该条闪念加上对应标签。</p><p>示例：<code>{&quot;cy&quot;: [&quot;午餐&quot;,&quot;早餐&quot;,&quot;咖啡&quot;], &quot;jf&quot;: [&quot;房租&quot;,&quot;水电&quot;]}</code><br> 输入「午餐13 韭黄炒蛋」保存后，会自动带上 <code>#cy</code>。</p><h2 id="习惯打卡关键词" tabindex="-1"><a class="header-anchor" href="#习惯打卡关键词" aria-hidden="true">#</a> 习惯打卡关键词</h2><p>同样为 JSON 配置，但<strong>不需要数字</strong>，内容里出现关键词即加对应标签，适合打卡类闪念（如「深蹲50个」→ <code>#sp</code>）。</p><h2 id="设置选项摘要" tabindex="-1"><a class="header-anchor" href="#设置选项摘要" aria-hidden="true">#</a> 设置选项摘要</h2><table><thead><tr><th>设置项</th><th>说明</th></tr></thead><tbody><tr><td>Journal 文件夹</td><td>闪念存储目录，默认 <code>journals</code></td></tr><tr><td>日期格式</td><td>文件名日期，默认 <code>YYYY-MM-DD</code></td></tr><tr><td>时间格式</td><td>时间戳格式，默认 <code>HH:mm</code></td></tr><tr><td>快捷标签</td><td>按钮与聚合标签，见上文格式</td></tr><tr><td>智能关键词</td><td>数字+关键词 → 自动标签（记账）</td></tr><tr><td>习惯打卡关键词</td><td>关键词 → 自动标签（打卡）</td></tr><tr><td>每页显示数量</td><td>列表分页条数</td></tr><tr><td>提交后保持弹窗打开</td><td>方便连续记录</td></tr><tr><td>启动时打开闪念</td><td>是否默认打开闪念视图</td></tr></tbody></table><figure><img src="`+h+`" alt="设置界面" tabindex="0" loading="lazy"><figcaption>设置界面</figcaption></figure><h2 id="与记账插件配合" tabindex="-1"><a class="header-anchor" href="#与记账插件配合" aria-hidden="true">#</a> 与记账插件配合</h2><ul><li>闪念笔记与记账类插件可共用同一批 Journal 文件（如 <code>journals/</code>）。</li><li>在闪念里用 <code>#cy</code>、<code>#jf</code>、<code>#gw</code> 等写流水（如 <code>- 14:00 #jf 房租2366.85</code>），用「每日记账」聚合标签在闪念里查看；记账插件从同一文件中解析金额与分类做统计。</li><li>两边的关键词建议一致（如记账里用 <code>jf</code>=生活缴费，闪念里也用 <code>#jf</code>），这样一条记录既可当闪念浏览，也可被记账统计。</li></ul><h2 id="外部修改自动刷新" tabindex="-1"><a class="header-anchor" href="#外部修改自动刷新" aria-hidden="true">#</a> 外部修改自动刷新</h2><p>当 Journal 被 <strong>Alfred、Python 脚本、Quick Add</strong> 等外部工具修改时，插件通过「vault 事件 + metadataCache.changed」双监听，在检测到目标文件变更后自动刷新视图，无需定时轮询。详见插件 README 中的「插件开发参考：监听文件变化并自动刷新视图」。</p><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h2><p><strong>Q: 带 <code>#jf</code> 的记账行为什么在「每日记账」里看不到？</strong><br> A: 确保该行被识别为闪念：要么是 <code>- HH:mm #jf ...</code> 格式，要么是 <code>- #jf ...</code> 且 <code>jf</code> 属于某个快捷标签的<strong>整组关键词</strong>（如 <code>cy+jf+qt+gw|每日记账</code> 里的 <code>jf</code>）。若之前不显示，多为只匹配了聚合里的第一个关键词，已修复为按整组关键词识别。</p><p><strong>Q: 闪念存在哪个文件？</strong><br> A: 存在「Journal 文件夹」下、按「日期格式」命名的 md 文件中，例如 <code>journals/2026-01-30.md</code>。</p><p><strong>Q: 如何修改默认标签？</strong><br> A: 在设置 → 「默认标签」中填写，新建闪念时会自动带上这些标签。</p><h2 id="开发" tabindex="-1"><a class="header-anchor" href="#开发" aria-hidden="true">#</a> 开发</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
<span class="token function">npm</span> run dev      <span class="token comment"># 开发模式</span>
<span class="token function">npm</span> run build    <span class="token comment"># 构建</span>
<span class="token function">npm</span> run release  <span class="token comment"># 发布到 GitHub</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="许可证" tabindex="-1"><a class="header-anchor" href="#许可证" aria-hidden="true">#</a> 许可证</h2><p>MIT License</p>`,47);function j(k,q){const d=r("ExternalLinkIcon");return o(),t("div",null,[g,e("ol",null,[e("li",null,[a("前往仓库 "),e("a",m,[a("Releases"),i(d)]),a(" 下载最新版本")]),b,f,v,_]),x])}const w=s(p,[["render",j],["__file","obsidian-memos.html.vue"]]);export{w as default};
